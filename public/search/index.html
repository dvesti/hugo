<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="generator" content="Hugo 0.68.3" />


<title>Jane - A super concise theme for Hugo - 搜索</title>
<meta property="og:title" content="Jane - A super concise theme for Hugo - 搜索">




<link rel="icon" href="" type="image/x-icon"/>
<link rel="stylesheet" href="/css/normalize.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:400|Lato:400,400italic,700">


    <meta property="og:title" content="搜索" />
<meta property="og:description" content="This file exists solely to respond to /search URL with the related search layout template. No content shown here is rendered, all content is based in the template layouts/page/search.html Setting a very low sitemap priority will tell search engines this is not important content. This implementation uses Fusejs, jquery and mark.js Initial setup Search depends on additional output content type of JSON in config.toml ``` [outputs] home = [&ldquo;HTML&rdquo;, &ldquo;JSON&rdquo;]" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dvesti.github.io/search/" />


    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="搜索"/>
<meta name="twitter:description" content="This file exists solely to respond to /search URL with the related search layout template. No content shown here is rendered, all content is based in the template layouts/page/search.html Setting a very low sitemap priority will tell search engines this is not important content. This implementation uses Fusejs, jquery and mark.js Initial setup Search depends on additional output content type of JSON in config.toml ``` [outputs] home = [&ldquo;HTML&rdquo;, &ldquo;JSON&rdquo;]"/>

    <meta itemprop="name" content="搜索">
<meta itemprop="description" content="This file exists solely to respond to /search URL with the related search layout template. No content shown here is rendered, all content is based in the template layouts/page/search.html Setting a very low sitemap priority will tell search engines this is not important content. This implementation uses Fusejs, jquery and mark.js Initial setup Search depends on additional output content type of JSON in config.toml ``` [outputs] home = [&ldquo;HTML&rdquo;, &ldquo;JSON&rdquo;]">

<meta itemprop="wordCount" content="142">



<meta itemprop="keywords" content="" />

  </head>
  <body>
    <header>
      <nav>

  <a href="https://dvesti.github.io" class="logo">
    <img src="" 
      width="" 
      height="" 
      alt="">
  </a>

  <ul class="links">
    
    <li><a href="/">This is Home</a></li>
    
    <li><a href="/post/">Archives</a></li>
    
    <li><a href="/tags/">Tags</a></li>
    
    <li><a href="/categories/">Categories</a></li>
    
    <li><a href="/search">Search</a></li>
    
    <li><a href="/about">О нас</a></li>
    
    <li><a href="">docs</a></li>
    
    <li><a href="/search/">搜索</a></li>
    

    
    <li><a href="/search/" class="search">
      <img src="/images/search.svg" alt="Search">
    </a></li>
    

  </ul>

</nav>

    </header>


<main role="main">

    <script src="https://unpkg.com/lunr/lunr.js"></script>
    <script type="text/javascript">
    
    
    var idx, searchInput, searchResults = null
    var documents = []
    
    function renderSearchResults(results){
    
        if (results.length > 0) {
    
            
            if (results.length > 9){
                results = results.slice(0,10)
            }
    
            
            searchResults.innerHTML = ''
    
            
            results.forEach(result => {
            
                
                var article = document.createElement('article')
                article.innerHTML = `
                <a href="${result.ref}"><h3 class="title">${documents[result.ref].title}</h3></a>
                <p><a href="${result.ref}">${result.ref}</a></p>
                <br>
                `
                searchResults.appendChild(article)
            })
    
        
        } else {
            searchResults.innerHTML = '<p>No results found.</p>'
        }
    }
    
    function registerSearchHandler() {
    
        
        searchInput.oninput = function(event) {
    
            
            if (searchInput.value == '') {
                
                searchResults.innerHTML = ''
            } else {
                
                
                var query = event.target.value
    
                
                var results = idx.search(query + '*')
    
                
                renderSearchResults(results)
            }
        }
    
        
        searchInput.focus()
        searchInput.placeholder = ''
    }
    
    window.onload = function() {
    
        
        searchInput = document.getElementById('search-input')
        searchResults = document.getElementById('search-results')
    
        
        fetch('/post/index.json', {
            method: 'get'
        }).then(
            res => res.json()
        ).then(
            res => {
    
                
                idx = lunr(function() {
                    this.ref('url')
                    this.field('title')
                    this.field('content')
    
                    res.forEach(function(doc) {
                        this.add(doc)
                        documents[doc.url] = {
                            'title': doc.title,
                            'content': doc.content,
                        }
                    }, this)
                })
    
                
                registerSearchHandler()
            }
        ).catch(
            err => {
                searchResults.innerHTML = `<p>${err}</p>`
            }
        )
    }
    </script>
    
    <input id="search-input" type="text" placeholder="Loading..." name="search">
    
    <section id="search-results" class="search"></section>

</main>

<footer>

		<ul class="links">

			
			<li>
				<a href="/search/">Search</a>
			</li>
			
			
			<li>
				<a href="/categories">Categories</a>
			</li>
			<li>
				<a href="/tags">Tags</a>
			</li>
			<li>
				<a href="https://dvesti.github.io/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
			</li>
			<li>
				<a href="https://gohugo.io/" class="links-kudos">Made with <img src="/images/hugo-logo.png" width="22" height="22"></a>
			</li>
		</ul>

	</footer>

	

</body>
</html>
